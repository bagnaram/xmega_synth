\hypertarget{keyboard_8h}{\section{keyboard/keyboard.h File Reference}
\label{keyboard_8h}\index{keyboard/keyboard.\-h@{keyboard/keyboard.\-h}}
}
{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$avr/io.\-h$>$}\\*
{\ttfamily \#include $<$avr/interrupt.\-h$>$}\\*
{\ttfamily \#include $<$avr/pgmspace.\-h$>$}\\*
{\ttfamily \#include $<$inttypes.\-h$>$}\\*
{\ttfamily \#include \char`\"{}../lcd8bit/lcd8bit.\-h\char`\"{}}\\*
Include dependency graph for keyboard.\-h\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=251pt]{keyboard_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{keyboard_8h_a533f998159de957b1f91e571cda46b9c}{I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-P\-E\-R\-I\-O\-D}~512
\item 
\#define \hyperlink{keyboard_8h_abef1196c18f992aa76600b2fd4535bf9}{F\-I\-N\-T}~(\hyperlink{config_8h_a43bafb28b29491ec7f871319b5a3b2f8}{F\-\_\-\-C\-P\-U} / \hyperlink{~main_8c_a533f998159de957b1f91e571cda46b9c}{I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-P\-E\-R\-I\-O\-D})
\item 
\#define \hyperlink{keyboard_8h_a30588c5eca7c9cb6ebba02a0236f0119}{F\-S}~(\hyperlink{~main_8c_abef1196c18f992aa76600b2fd4535bf9}{F\-I\-N\-T})
\item 
\#define \hyperlink{keyboard_8h_a589673e7bbb27cd5ee1b6e977cb63d47}{K\-B\-\_\-\-C\-L\-K}~P\-I\-N2\-\_\-bm
\begin{DoxyCompactList}\small\item\em includes for lcd display library \end{DoxyCompactList}\item 
\#define \hyperlink{keyboard_8h_a2814188fded020b333e7d90454d61271}{K\-B\-\_\-\-D\-A\-T\-A}~P\-I\-N1\-\_\-bm
\begin{DoxyCompactList}\small\item\em set the keyboard data pin to P\-O\-R\-T\-F.\-1 \end{DoxyCompactList}\item 
\#define \hyperlink{keyboard_8h_acfa1f9e0b185e8d32bff74155a3ab4eb}{K\-B\-\_\-\-P\-O\-R\-T}~P\-O\-R\-T\-F
\begin{DoxyCompactList}\small\item\em define the keyboard port as P\-O\-R\-T\-F \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{keyboard_8h_aaeb4e4a3c4813ee1efc6b98bba9ec781}{keyboard\-\_\-init} ()
\begin{DoxyCompactList}\small\item\em This function initialiazes the ports on the P\-S/2 port Sets up timer interrupts for P\-O\-R\-T\-F. \end{DoxyCompactList}\item 
char \hyperlink{keyboard_8h_a0d8cfaf4d0e76cc5ecb09681adac3ef3}{keyboard\-\_\-render\-\_\-scan\-\_\-code} (uint8\-\_\-t data)
\item 
uint8\-\_\-t \hyperlink{keyboard_8h_a7060d775150320db57889d2659bb6284}{keyboard\-\_\-read\-\_\-char} ()
\item 
void \hyperlink{keyboard_8h_a12e80295bc304d42073ca130ff9a9500}{keyboard\-\_\-clock\-\_\-init} (void)
\begin{DoxyCompactList}\small\item\em Initialiaze the clock to be 32\-Mhz. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
volatile uint8\-\_\-t \hyperlink{keyboard_8h_ac6271798c92bfb95295c0eb43ad1f8a5}{kbd\-\_\-data}
\item 
volatile uint8\-\_\-t \hyperlink{keyboard_8h_a2076b44e14575d889c509d93df4e3ad2}{char\-\_\-waiting}
\item 
uint8\-\_\-t \hyperlink{keyboard_8h_a4962713018c207c653a60b1ec9554b52}{started}
\item 
uint8\-\_\-t \hyperlink{keyboard_8h_a3638028601cbd7e3383db0fe214e6c9b}{bit\-\_\-count}
\item 
uint8\-\_\-t \hyperlink{keyboard_8h_a28ac534ad4b71a6f265826746888e43e}{shift}
\item 
uint8\-\_\-t \hyperlink{keyboard_8h_ade2e2c50ad5f47ed8904d123c732d5a6}{caps\-\_\-lock}
\item 
uint8\-\_\-t \hyperlink{keyboard_8h_acd53bef429b3afe798b7228806e6e294}{extended}
\item 
uint8\-\_\-t \hyperlink{keyboard_8h_add4c887e71286ff439152f14a491d84b}{release}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{keyboard_8h_abef1196c18f992aa76600b2fd4535bf9}{\index{keyboard.\-h@{keyboard.\-h}!F\-I\-N\-T@{F\-I\-N\-T}}
\index{F\-I\-N\-T@{F\-I\-N\-T}!keyboard.h@{keyboard.\-h}}
\subsubsection[{F\-I\-N\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-I\-N\-T~({\bf F\-\_\-\-C\-P\-U} / {\bf I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-P\-E\-R\-I\-O\-D})}}\label{keyboard_8h_abef1196c18f992aa76600b2fd4535bf9}
\hypertarget{keyboard_8h_a30588c5eca7c9cb6ebba02a0236f0119}{\index{keyboard.\-h@{keyboard.\-h}!F\-S@{F\-S}}
\index{F\-S@{F\-S}!keyboard.h@{keyboard.\-h}}
\subsubsection[{F\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-S~({\bf F\-I\-N\-T})}}\label{keyboard_8h_a30588c5eca7c9cb6ebba02a0236f0119}


Referenced by wavegen\-\_\-set\-Frequency(), and wavegen\-\_\-set\-Frequency2().

\hypertarget{keyboard_8h_a533f998159de957b1f91e571cda46b9c}{\index{keyboard.\-h@{keyboard.\-h}!I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-P\-E\-R\-I\-O\-D@{I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-P\-E\-R\-I\-O\-D}}
\index{I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-P\-E\-R\-I\-O\-D@{I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-P\-E\-R\-I\-O\-D}!keyboard.h@{keyboard.\-h}}
\subsubsection[{I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-P\-E\-R\-I\-O\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-P\-E\-R\-I\-O\-D~512}}\label{keyboard_8h_a533f998159de957b1f91e571cda46b9c}
\hypertarget{keyboard_8h_a589673e7bbb27cd5ee1b6e977cb63d47}{\index{keyboard.\-h@{keyboard.\-h}!K\-B\-\_\-\-C\-L\-K@{K\-B\-\_\-\-C\-L\-K}}
\index{K\-B\-\_\-\-C\-L\-K@{K\-B\-\_\-\-C\-L\-K}!keyboard.h@{keyboard.\-h}}
\subsubsection[{K\-B\-\_\-\-C\-L\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-B\-\_\-\-C\-L\-K~P\-I\-N2\-\_\-bm}}\label{keyboard_8h_a589673e7bbb27cd5ee1b6e977cb63d47}


includes for lcd display library 

set the keyboard clock pin to P\-O\-R\-T\-F.\-2 

Referenced by I\-S\-R(), and keyboard\-\_\-init().

\hypertarget{keyboard_8h_a2814188fded020b333e7d90454d61271}{\index{keyboard.\-h@{keyboard.\-h}!K\-B\-\_\-\-D\-A\-T\-A@{K\-B\-\_\-\-D\-A\-T\-A}}
\index{K\-B\-\_\-\-D\-A\-T\-A@{K\-B\-\_\-\-D\-A\-T\-A}!keyboard.h@{keyboard.\-h}}
\subsubsection[{K\-B\-\_\-\-D\-A\-T\-A}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-B\-\_\-\-D\-A\-T\-A~P\-I\-N1\-\_\-bm}}\label{keyboard_8h_a2814188fded020b333e7d90454d61271}


set the keyboard data pin to P\-O\-R\-T\-F.\-1 



Referenced by I\-S\-R(), and keyboard\-\_\-init().

\hypertarget{keyboard_8h_acfa1f9e0b185e8d32bff74155a3ab4eb}{\index{keyboard.\-h@{keyboard.\-h}!K\-B\-\_\-\-P\-O\-R\-T@{K\-B\-\_\-\-P\-O\-R\-T}}
\index{K\-B\-\_\-\-P\-O\-R\-T@{K\-B\-\_\-\-P\-O\-R\-T}!keyboard.h@{keyboard.\-h}}
\subsubsection[{K\-B\-\_\-\-P\-O\-R\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-B\-\_\-\-P\-O\-R\-T~P\-O\-R\-T\-F}}\label{keyboard_8h_acfa1f9e0b185e8d32bff74155a3ab4eb}


define the keyboard port as P\-O\-R\-T\-F 



Referenced by I\-S\-R(), and keyboard\-\_\-init().



\subsection{Function Documentation}
\hypertarget{keyboard_8h_a12e80295bc304d42073ca130ff9a9500}{\index{keyboard.\-h@{keyboard.\-h}!keyboard\-\_\-clock\-\_\-init@{keyboard\-\_\-clock\-\_\-init}}
\index{keyboard\-\_\-clock\-\_\-init@{keyboard\-\_\-clock\-\_\-init}!keyboard.h@{keyboard.\-h}}
\subsubsection[{keyboard\-\_\-clock\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void keyboard\-\_\-clock\-\_\-init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{keyboard_8h_a12e80295bc304d42073ca130ff9a9500}


Initialiaze the clock to be 32\-Mhz. 

\hypertarget{keyboard_8h_aaeb4e4a3c4813ee1efc6b98bba9ec781}{\index{keyboard.\-h@{keyboard.\-h}!keyboard\-\_\-init@{keyboard\-\_\-init}}
\index{keyboard\-\_\-init@{keyboard\-\_\-init}!keyboard.h@{keyboard.\-h}}
\subsubsection[{keyboard\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void keyboard\-\_\-init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{keyboard_8h_aaeb4e4a3c4813ee1efc6b98bba9ec781}


This function initialiazes the ports on the P\-S/2 port Sets up timer interrupts for P\-O\-R\-T\-F. 

Make this interrupt medium level so it is higher priority than the timer interrupts!

References bit\-\_\-count, K\-B\-\_\-\-C\-L\-K, K\-B\-\_\-\-D\-A\-T\-A, K\-B\-\_\-\-P\-O\-R\-T, kbd\-\_\-data, and started.



Referenced by main().

\hypertarget{keyboard_8h_a7060d775150320db57889d2659bb6284}{\index{keyboard.\-h@{keyboard.\-h}!keyboard\-\_\-read\-\_\-char@{keyboard\-\_\-read\-\_\-char}}
\index{keyboard\-\_\-read\-\_\-char@{keyboard\-\_\-read\-\_\-char}!keyboard.h@{keyboard.\-h}}
\subsubsection[{keyboard\-\_\-read\-\_\-char}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t keyboard\-\_\-read\-\_\-char (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{keyboard_8h_a7060d775150320db57889d2659bb6284}


References char\-\_\-waiting, kbd\-\_\-data, and release.



Referenced by main().

\hypertarget{keyboard_8h_a0d8cfaf4d0e76cc5ecb09681adac3ef3}{\index{keyboard.\-h@{keyboard.\-h}!keyboard\-\_\-render\-\_\-scan\-\_\-code@{keyboard\-\_\-render\-\_\-scan\-\_\-code}}
\index{keyboard\-\_\-render\-\_\-scan\-\_\-code@{keyboard\-\_\-render\-\_\-scan\-\_\-code}!keyboard.h@{keyboard.\-h}}
\subsubsection[{keyboard\-\_\-render\-\_\-scan\-\_\-code}]{\setlength{\rightskip}{0pt plus 5cm}char keyboard\-\_\-render\-\_\-scan\-\_\-code (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{data}
\end{DoxyParamCaption}
)}}\label{keyboard_8h_a0d8cfaf4d0e76cc5ecb09681adac3ef3}


References shift.



Referenced by main().



\subsection{Variable Documentation}
\hypertarget{keyboard_8h_a3638028601cbd7e3383db0fe214e6c9b}{\index{keyboard.\-h@{keyboard.\-h}!bit\-\_\-count@{bit\-\_\-count}}
\index{bit\-\_\-count@{bit\-\_\-count}!keyboard.h@{keyboard.\-h}}
\subsubsection[{bit\-\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t bit\-\_\-count}}\label{keyboard_8h_a3638028601cbd7e3383db0fe214e6c9b}
\hypertarget{keyboard_8h_ade2e2c50ad5f47ed8904d123c732d5a6}{\index{keyboard.\-h@{keyboard.\-h}!caps\-\_\-lock@{caps\-\_\-lock}}
\index{caps\-\_\-lock@{caps\-\_\-lock}!keyboard.h@{keyboard.\-h}}
\subsubsection[{caps\-\_\-lock}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t caps\-\_\-lock}}\label{keyboard_8h_ade2e2c50ad5f47ed8904d123c732d5a6}
\hypertarget{keyboard_8h_a2076b44e14575d889c509d93df4e3ad2}{\index{keyboard.\-h@{keyboard.\-h}!char\-\_\-waiting@{char\-\_\-waiting}}
\index{char\-\_\-waiting@{char\-\_\-waiting}!keyboard.h@{keyboard.\-h}}
\subsubsection[{char\-\_\-waiting}]{\setlength{\rightskip}{0pt plus 5cm}volatile uint8\-\_\-t char\-\_\-waiting}}\label{keyboard_8h_a2076b44e14575d889c509d93df4e3ad2}
\hypertarget{keyboard_8h_acd53bef429b3afe798b7228806e6e294}{\index{keyboard.\-h@{keyboard.\-h}!extended@{extended}}
\index{extended@{extended}!keyboard.h@{keyboard.\-h}}
\subsubsection[{extended}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t extended}}\label{keyboard_8h_acd53bef429b3afe798b7228806e6e294}
\hypertarget{keyboard_8h_ac6271798c92bfb95295c0eb43ad1f8a5}{\index{keyboard.\-h@{keyboard.\-h}!kbd\-\_\-data@{kbd\-\_\-data}}
\index{kbd\-\_\-data@{kbd\-\_\-data}!keyboard.h@{keyboard.\-h}}
\subsubsection[{kbd\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}volatile uint8\-\_\-t kbd\-\_\-data}}\label{keyboard_8h_ac6271798c92bfb95295c0eb43ad1f8a5}
\hypertarget{keyboard_8h_add4c887e71286ff439152f14a491d84b}{\index{keyboard.\-h@{keyboard.\-h}!release@{release}}
\index{release@{release}!keyboard.h@{keyboard.\-h}}
\subsubsection[{release}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t release}}\label{keyboard_8h_add4c887e71286ff439152f14a491d84b}
\hypertarget{keyboard_8h_a28ac534ad4b71a6f265826746888e43e}{\index{keyboard.\-h@{keyboard.\-h}!shift@{shift}}
\index{shift@{shift}!keyboard.h@{keyboard.\-h}}
\subsubsection[{shift}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t shift}}\label{keyboard_8h_a28ac534ad4b71a6f265826746888e43e}
\hypertarget{keyboard_8h_a4962713018c207c653a60b1ec9554b52}{\index{keyboard.\-h@{keyboard.\-h}!started@{started}}
\index{started@{started}!keyboard.h@{keyboard.\-h}}
\subsubsection[{started}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t started}}\label{keyboard_8h_a4962713018c207c653a60b1ec9554b52}
